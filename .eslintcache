[{"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\App.tsx":"1","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\CollisionSphere.ts":"2","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\constants.ts":"3","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\util.ts":"4","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ViewportHooks.tsx":"5","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\Effects.tsx":"6","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\ThreePointVis.tsx":"7","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\Stats.tsx":"8","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\DataList\\DataList.tsx":"9","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\PointInfo\\PointInfo.tsx":"10","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\LoadingOverlay\\LoadingOverlay.tsx":"11","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\Controls.tsx":"12","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\InstancedPoints.tsx":"13","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\VoxelInstancedPoints.tsx":"14","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\ClusterHulls.tsx":"15","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\Text.tsx":"16","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\index.tsx":"17"},{"size":20427,"mtime":1610918255091,"results":"18","hashOfConfig":"19"},{"size":1729,"mtime":1610877982584,"results":"20","hashOfConfig":"19"},{"size":2232,"mtime":1610877987120,"results":"21","hashOfConfig":"19"},{"size":251,"mtime":1610878015032,"results":"22","hashOfConfig":"19"},{"size":1084,"mtime":1610878019098,"results":"23","hashOfConfig":"19"},{"size":2383,"mtime":1610918224999,"results":"24","hashOfConfig":"19"},{"size":4810,"mtime":1610918225000,"results":"25","hashOfConfig":"19"},{"size":430,"mtime":1610877961401,"results":"26","hashOfConfig":"19"},{"size":4824,"mtime":1610877902822,"results":"27","hashOfConfig":"19"},{"size":1242,"mtime":1610877927466,"results":"28","hashOfConfig":"19"},{"size":438,"mtime":1610877923493,"results":"29","hashOfConfig":"19"},{"size":4023,"mtime":1610918224998,"results":"30","hashOfConfig":"19"},{"size":6661,"mtime":1610878076715,"results":"31","hashOfConfig":"19"},{"size":5578,"mtime":1610918251864,"results":"32","hashOfConfig":"19"},{"size":932,"mtime":1610877933255,"results":"33","hashOfConfig":"19"},{"size":2539,"mtime":1610877965317,"results":"34","hashOfConfig":"19"},{"size":255,"mtime":1610878004046,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1osl008",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"40"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\App.tsx",["75","76","77"],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\CollisionSphere.ts",[],["78","79","80","81","82","83","84"],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\constants.ts",[],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\util.ts",[],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ViewportHooks.tsx",[],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\Effects.tsx",["85"],"import React, { useRef, useEffect, useMemo } from 'react';\nimport * as THREE from 'three';\nimport { extend, useThree, useFrame } from 'react-three-fiber';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass';\nimport { BloomPass } from 'three/examples/jsm/postprocessing/BloomPass.js';\nimport { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader';\n\nextend({\n  EffectComposer, ShaderPass, RenderPass, UnrealBloomPass, BloomPass,\n});\n\ninterface EffectsProps {\n  useAA?: boolean;\n  useStandardBloom?: boolean;\n  useUnrealBloom?: boolean;\n}\n\nexport function Effects(props: EffectsProps) {\n  const composer = useRef<EffectComposer>();\n  const {\n    scene, gl, size, camera,\n  } = useThree();\n  const aspectScalar = 8;\n  const aspect = useMemo(() => new THREE.Vector2(size.width / aspectScalar, size.height / aspectScalar), [\n    size,\n  ]);\n  const { useAA, useStandardBloom, useUnrealBloom } = props;\n\n  useEffect(() => composer.current!.setSize(size.width, size.height), [\n    size,\n  ]);\n  useFrame(() => (composer.current ? composer.current.render() : null), 1);\n\n  const unrealBloom = useMemo(() => ({\n    resolution: aspect,\n    strength: 0.3,\n    radius: 0.02,\n    threshold: 0.19,\n  }), [aspect]);\n\n  const bloom = useMemo(() => ({\n    strength: 1,\n    kernelSize: 25,\n    sigma: 4,\n    targetResolution: 256,\n  }), []);\n\n  return (\n    <effectComposer ref={composer} args={[gl]}>\n      <renderPass attachArray=\"passes\" scene={scene} camera={camera} />\n      { useUnrealBloom && (\n      <unrealBloomPass\n        attachArray=\"passes\"\n        args={[unrealBloom.resolution, unrealBloom.strength, unrealBloom.radius, unrealBloom.threshold]}\n      />\n      ) }\n      { useStandardBloom && (\n      <bloomPass\n        attachArray=\"passes\"\n        args={[bloom.strength, bloom.kernelSize, bloom.sigma, bloom.targetResolution]}\n      />\n      ) }\n      { useAA && (\n      <shaderPass\n        attachArray=\"passes\"\n        args={[FXAAShader]}\n        material-uniforms-resolution-value={[1 / size.width, 1 / size.height]}\n        renderToScreen\n      />\n      ) }\n    </effectComposer>\n  );\n}\n","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\ThreePointVis.tsx",[],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\Stats.tsx",[],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\DataList\\DataList.tsx",["86","87","88","89","90","91"],"// Based on: https://medium.com/@leofabrikant/react-autocomplete-with-react-virtualized-to-handle-massive-search-results-7865a8786972\nimport * as React from 'react';\nimport { areEqual, FixedSizeList as List } from 'react-window';\nimport './DataList.scss';\nimport { memo, useRef } from 'react';\n\nexport interface DataListProps {\n  values: string[];\n  id: string;\n  onSelect?: (\n    selected: string\n  ) => void;\n  onChange?: (\n    selected: string\n  ) => void;\n}\n\nexport const cleanTerm = (term: string) => term.toLowerCase().replace(/\\s+/g, '');\n\nconst itemHeight = 30;\n\nexport const DataList = memo((props: DataListProps) => {\n  const {\n    values, id, onChange, onSelect,\n  } = props;\n\n  const [activeIndex, setActiveIndex] = React.useState<number | null>(null);\n  const [lastHoverIndex, setLastHoverIndex] = React.useState(0);\n  const [showMenu, setShowMenu] = React.useState(false);\n  const [mouseSelect, setMouseSelect] = React.useState(false);\n  const [searchTerm, setSearchTerm] = React.useState('');\n\n  const listRef = useRef<List>(null);\n  const containerRef = useRef<HTMLElement | null>(null);\n\n  React.useEffect(() => {\n    if (containerRef.current) {\n      containerRef?.current?.setAttribute('tabIndex', '0');\n    }\n  }, [containerRef]);\n\n  // @ts-ignore\n  // eslint-disable-next-line react/prop-types\n  const Row = memo(({ data, index, style }) => {\n    // Data passed to List as \"itemData\" is available as props.data\n    const item = data[index];\n\n    return (\n      // eslint-disable-next-line max-len\n      // eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/mouse-events-have-key-events,jsx-a11y/no-static-element-interactions\n      <div\n        className=\"data-list-item\"\n        onMouseOver={() => {\n          if (lastHoverIndex !== index && mouseSelect) {\n            setActiveIndex(index);\n            setLastHoverIndex(index);\n          }\n        }}\n        onMouseMove={() => setMouseSelect(true)}\n        style={{\n          ...style,\n          backgroundColor: index === activeIndex ? '#0b195e' : '#111111',\n          verticalAlign: 'center',\n        }}\n        onClick={() => {\n          setShowMenu(false);\n          setActiveIndex(null);\n          onSelect && onSelect(values[index]);\n        }}\n      >\n        {item}\n      </div>\n    );\n  }, areEqual);\n\n  React.useEffect(() => {\n    if (activeIndex !== null) {\n      listRef.current?.scrollToItem(activeIndex);\n    }\n  });\n\n  return (\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <div\n      className=\"data-list\"\n      onBlur={(e) => {\n        if (containerRef?.current?.contains(e.relatedTarget as Node)) {\n          setShowMenu(false);\n          setActiveIndex(null);\n        }\n      }}\n      onKeyDown={(e) => {\n        const listLength = values.length;\n        // e.preventDefault();\n        e.stopPropagation();\n        if (e.keyCode === 13) {\n          if (activeIndex) {\n            const value = values[activeIndex];\n            onSelect && value && onSelect(value);\n            setShowMenu(false);\n            setActiveIndex(null);\n          } else {\n            onSelect && onSelect(searchTerm);\n          }\n        } else {\n          if (!showMenu) {\n            setShowMenu(true);\n          }\n          if (e.keyCode === 38) {\n            if (activeIndex === null) {\n              setActiveIndex(listLength - 1);\n            } else {\n              setMouseSelect(false);\n              const newActiveIndex = activeIndex - 1;\n              setActiveIndex(newActiveIndex >= 0 ? newActiveIndex : listLength - 1);\n            }\n          } else if (e.keyCode === 40) {\n            if (activeIndex === null) {\n              setActiveIndex(0);\n            } else {\n              setMouseSelect(false);\n              const newActiveIndex = activeIndex + 1;\n              setActiveIndex(newActiveIndex < listLength ? newActiveIndex : 0);\n            }\n          } else {\n            setActiveIndex(null);\n          }\n        }\n      }}\n    >\n      {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */}\n      <div className=\"data-list-input\" onClick={() => setShowMenu(true)}>\n        <input\n          type=\"text\"\n          id={id}\n          list=\"subreddits\"\n          onChange={(e) => {\n            setSearchTerm(e.target.value);\n            if (onChange) {\n              onChange(e.target.value);\n            }\n          }}\n        />\n      </div>\n      {showMenu\n        && (\n        <List\n          ref={listRef}\n          outerRef={containerRef}\n          width=\"100%\"\n          height={190}\n          key={id}\n          style={{ position: 'absolute' }}\n          itemCount={values.length}\n          itemData={values}\n          itemSize={itemHeight}\n        >\n          {Row}\n        </List>\n        )}\n    </div>\n  );\n});\n","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\PointInfo\\PointInfo.tsx",[],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\LoadingOverlay\\LoadingOverlay.tsx",[],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\Controls.tsx",["92","93"],"import * as React from 'react';\nimport { extend, useThree, useFrame } from 'react-three-fiber';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport useEventListener from '@use-it/event-listener';\nimport * as THREE from 'three';\n// import { useState } from \"react\";\nimport { memo, useCallback } from 'react';\n\ninterface ControlsProps {\n  target: THREE.Vector3 | null;\n  position: THREE.Vector3 | null;\n  distance: number;\n}\n\nextend({ OrbitControls });\n\nconst TARGET_THRESHOLD = 0.1;\nconst TARGET_THRESHOLD_MULTIPLIER = 200;\nconst POSITION_THRESHOLD_OFFSET = 11;\nconst POSITION_THRESHOLD_SCALER = 1.04;\nconst ANIMATION_SPEED = 5;\n\nconst origin = new THREE.Vector3(0, 0, 0);\n\nconst hasCameraChanged = (prevProps: ControlsProps, nextProps: ControlsProps):\n  boolean => (prevProps.distance === nextProps.distance\n    && prevProps.position && nextProps.position\n    && prevProps.target && nextProps.target\n    && prevProps.position.equals(nextProps.position)\n    && prevProps.target.equals(nextProps.target)) || false;\n\nexport const Controls = memo((props: ControlsProps) => {\n  const { target, position, distance } = props;\n\n  const cameraDistance = POSITION_THRESHOLD_OFFSET + POSITION_THRESHOLD_SCALER * distance;\n\n  const controls = React.useRef<OrbitControls>();\n\n  const { camera, gl } = useThree();\n\n  const keyPressed: { [key: string]: number } = {};\n\n  let targetAnimationComplete = false;\n  let positionAnimationComplete = false;\n\n  const handleKeyDown = useCallback((event: KeyboardEvent) => {\n    if (!keyPressed[event.key]) {\n      keyPressed[event.key] = new Date().getTime();\n    }\n  }, [keyPressed]);\n\n  const handleKeyUp = useCallback((event: KeyboardEvent) => {\n    delete keyPressed[event.key];\n  }, [keyPressed]);\n\n  // Reference: httpwdwdawds://maxrohde.com/2019/10/25/camera-movement-with-three-js/\n  useFrame((_, delta) => {\n    const internalTarget = controls.current?.target || origin;\n    const internalPosition = camera.position;\n\n    // interpolate target\n    if (!targetAnimationComplete\n      && target\n      && internalTarget.distanceTo(target) > TARGET_THRESHOLD) {\n      internalTarget.lerp(target, ANIMATION_SPEED * delta);\n    } else {\n      targetAnimationComplete = true;\n    }\n\n    if (\n      !positionAnimationComplete\n      && position\n      && target\n      && internalTarget.distanceTo(target)\n        < TARGET_THRESHOLD * TARGET_THRESHOLD_MULTIPLIER\n      && internalPosition.distanceTo(position) > cameraDistance\n\n    ) {\n      internalPosition.lerp(position, ANIMATION_SPEED * delta);\n    } else if (!positionAnimationComplete && position && internalPosition.distanceTo(position) < cameraDistance) {\n      internalPosition.sub(position).setLength(cameraDistance).add(position);\n      positionAnimationComplete = true;\n    }\n\n    // move camera according to key pressed\n    Object.entries(keyPressed).forEach((e) => {\n      const [key, start] = e;\n      const duration = new Date().getTime() - start;\n\n      const xAxis = new THREE.Vector3(1, 0, 0);\n      const zAxis = new THREE.Vector3(0, 0, 1);\n\n      // increase momentum if key pressed longer\n      let momentum = Math.sqrt(duration + 200) * 0.01 + 0.05;\n\n      // adjust for actual time passed\n      momentum = (momentum * delta) / 0.008;\n\n      switch (key) {\n        case 'w':\n          camera.translateOnAxis(zAxis, -momentum);\n          break;\n        case 's':\n          camera.translateOnAxis(zAxis, momentum);\n          break;\n        case 'd':\n          camera.translateOnAxis(xAxis, momentum);\n          break;\n        case 'a':\n          camera.translateOnAxis(xAxis, -momentum);\n          break;\n        default:\n      }\n    });\n\n    controls.current!.update();\n  });\n\n  useEventListener('keydown', handleKeyDown);\n  useEventListener('keyup', handleKeyUp);\n\n  return (\n    <orbitControls\n      ref={controls}\n      args={[camera, gl.domElement]}\n      dampingFactor={0.1}\n      enableDamping\n    />\n  );\n}, hasCameraChanged);\n","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\InstancedPoints.tsx",["94","95"],"import * as React from 'react';\nimport * as THREE from 'three';\nimport {\n  MouseEvent, useThree, useFrame, Camera,\n} from 'react-three-fiber';\nimport {\n  Frustum, Matrix4, Vector3, InstancedBufferAttribute,\n} from 'three';\nimport { MutableRefObject, useEffect, useState } from 'react';\nimport { SelectedIds, SelectedPoints, SelectHandler } from './ThreePointVis';\nimport { Point } from '../App';\nimport { SCALE_FACTOR, clusterColors, POINT_RADIUS } from '../constants';\n\ninterface InstancedPointsProps {\n  data: Point[];\n  selectedPoints: SelectedPoints;\n  onSelect: SelectHandler;\n  enableCulling?: boolean;\n  pointSegments: number;\n}\n\n// re-use for instance computations\nconst scratchColor = new THREE.Color();\nconst scratchObject3D = new THREE.Object3D();\nconst scratchSphere = new THREE.Sphere();\nconst scratchPos = new Vector3(0, 0, 0);\nconst frustum = new Frustum();\nconst projScreenMatrix = new Matrix4();\n\nconst SELECTED_COLOR = '#6f6';\n\nconst updateColors = (\n  data: Point[],\n  selectedIds: SelectedIds,\n  pointIndexToId: number[],\n  maxCount: number,\n  colorArray: Float32Array,\n  colorAttrib: MutableRefObject<InstancedBufferAttribute | undefined>,\n) => {\n  for (let i = 0; i < maxCount; ++i) {\n    const point = data[pointIndexToId[i]];\n    scratchColor.set(\n      selectedIds.includes(point.id) ? SELECTED_COLOR : clusterColors[point.cluster],\n    );\n    scratchColor.toArray(colorArray, i * 3);\n\n    if (colorAttrib.current) {\n      // eslint-disable-next-line no-param-reassign\n      colorAttrib.current.needsUpdate = true;\n    }\n  }\n};\n\nfunction updateInstancedMeshMatrices(\n  mesh: THREE.InstancedMesh,\n  data: Point[],\n  maxPoints: number,\n  enableCulling: boolean,\n  camera: Camera,\n  pointIndexToId: number[],\n  colorArray: Float32Array,\n  colorAttrib: MutableRefObject<InstancedBufferAttribute | undefined>,\n  selectedIds: SelectedIds,\n): number {\n  let visibleInstanceCount = 0;\n  if (mesh) {\n    for (let i = 0; i < maxPoints; ++i) {\n      const { x } = data[i];\n      const { y } = data[i];\n      const { z } = data[i];\n\n      projScreenMatrix.multiplyMatrices(\n        camera.projectionMatrix,\n        camera.matrixWorldInverse,\n      );\n      frustum.setFromProjectionMatrix(projScreenMatrix);\n\n      scratchPos.set(x, y, z);\n\n      scratchSphere.set(scratchPos, POINT_RADIUS);\n\n      if (\n        (!frustum.intersectsSphere(scratchSphere) && enableCulling)\n        || !data[i].include\n      ) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      scratchObject3D.position.set(x, y, z);\n      scratchObject3D.updateMatrix();\n      mesh.setMatrixAt(visibleInstanceCount, scratchObject3D.matrix);\n      // eslint-disable-next-line no-param-reassign\n      pointIndexToId[visibleInstanceCount] = data[i].id;\n      visibleInstanceCount++;\n    }\n\n    // eslint-disable-next-line no-param-reassign\n    mesh.count = visibleInstanceCount;\n    // eslint-disable-next-line no-param-reassign\n    mesh.instanceMatrix.needsUpdate = true;\n\n    updateColors(\n      data,\n      selectedIds,\n      pointIndexToId,\n      visibleInstanceCount,\n      colorArray,\n      colorAttrib,\n    );\n  }\n  return visibleInstanceCount;\n}\n\nconst useMousePointInteraction = (\n  onSelect: SelectHandler,\n  pointIndexToId: number[],\n) => {\n  // track mousedown position to skip click handlers on drags\n  const mouseDownRef = React.useRef([0, 0]);\n  const handlePointerDown = (event: MouseEvent) => {\n    mouseDownRef.current[0] = event.clientX;\n    mouseDownRef.current[1] = event.clientY;\n  };\n\n  const handleClick = (event: MouseEvent) => {\n    const { instanceId, clientX, clientY } = event;\n    const downDistance = Math.sqrt(\n      mouseDownRef.current[0] - clientX ** 2\n        + mouseDownRef.current[1] - clientY ** 2,\n    );\n\n    // skip click if we dragged more than 5px distance\n    if (downDistance > 5) {\n      event.stopPropagation();\n      return;\n    }\n\n    const id = instanceId !== undefined ? pointIndexToId[instanceId] : -1;\n\n    onSelect(id, event.ctrlKey);\n  };\n\n  return { handlePointerDown, handleClick };\n};\n\nexport const InstancedPoints = (props: InstancedPointsProps) => {\n  const {\n    data, selectedPoints, onSelect, enableCulling, pointSegments,\n  } = props;\n  const pointIndexToId = data.map((point) => point.id);\n\n  const meshRef = React.useRef<THREE.InstancedMesh>();\n  const [mesh, setMesh] = useState();\n  useEffect(() => setMesh(meshRef.current), [data]);\n\n  const { camera } = useThree();\n\n  const numPoints = data.length;\n\n  const colorAttrib = React.useRef<THREE.InstancedBufferAttribute>();\n  const colorArray = React.useMemo(() => new Float32Array(numPoints * 3), [\n    numPoints,\n  ]);\n\n  useFrame(() => {\n    if (mesh) {\n      updateInstancedMeshMatrices(\n        mesh,\n        data,\n        numPoints,\n        enableCulling || false,\n        camera,\n        pointIndexToId,\n        colorArray,\n        colorAttrib,\n        selectedPoints.map((point) => point.id),\n      );\n    }\n  });\n\n  const { handleClick, handlePointerDown } = useMousePointInteraction(\n    onSelect,\n    pointIndexToId,\n  );\n\n  const renderInstancedMesh = selectedPoints.map(\n    (point) => (\n      <group\n        position={[\n          point.x,\n          point.y,\n          point.z,\n        ]}\n      >\n        <pointLight\n          distance={19 * SCALE_FACTOR}\n          position={[0, 0, 0]}\n          intensity={2.5}\n          decay={30}\n          color={SELECTED_COLOR}\n        />\n        <pointLight\n          distance={10 * SCALE_FACTOR}\n          position={[0, 0, 0]}\n          intensity={1.5}\n          decay={1}\n          color={SELECTED_COLOR}\n        />\n      </group>\n    ),\n  );\n\n  return (\n    <>\n      <instancedMesh\n        ref={meshRef}\n        args={[\n            // TODO sort out the bugged typing here.\n            // Ref: https://spectrum.chat/react-three-fiber/general/instancedmesh-gone-on-rerender-in-typescript~35e4d145-517f-4b81-b0c7-ab89e02bd72f\n            (null as unknown) as THREE.BufferGeometry,\n            (null as unknown) as THREE.Material,\n            numPoints,\n        ]}\n        onPointerUp={handleClick}\n        onPointerDown={handlePointerDown}\n      >\n        <sphereBufferGeometry\n          attach=\"geometry\"\n          args={[POINT_RADIUS, pointSegments, pointSegments]}\n          key={pointSegments}\n        >\n          <instancedBufferAttribute\n            ref={colorAttrib}\n            attachObject={['attributes', 'color']}\n            args={[colorArray, 3]}\n          />\n        </sphereBufferGeometry>\n        <meshStandardMaterial attach=\"material\" vertexColors />\n      </instancedMesh>\n      {selectedPoints.length > 0 && (\n        renderInstancedMesh\n      )}\n    </>\n  );\n};\n","C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\VoxelInstancedPoints.tsx",["96","97","98","99","100","101","102"],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\ClusterHulls.tsx",[],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\ThreePointVis\\Text.tsx",[],"C:\\Users\\John\\Documents\\GitHub\\reddit_app\\src\\index.tsx",[],{"ruleId":"103","severity":1,"message":"104","line":97,"column":9,"nodeType":"105","endLine":97,"endColumn":68},{"ruleId":"103","severity":1,"message":"106","line":265,"column":84,"nodeType":"107","endLine":265,"endColumn":109,"suggestions":"108"},{"ruleId":"103","severity":1,"message":"109","line":279,"column":7,"nodeType":"107","endLine":279,"endColumn":22,"suggestions":"110"},{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","replacedBy":"116"},{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","replacedBy":"124"},{"ruleId":"125","severity":1,"message":"126","line":8,"column":27,"nodeType":"127","endLine":8,"endColumn":75},{"ruleId":"128","severity":1,"message":"129","line":68,"column":11,"nodeType":"130","messageId":"131","endLine":68,"endColumn":47},{"ruleId":"132","severity":1,"message":"129","line":68,"column":11,"nodeType":"130","messageId":"131","endLine":68,"endColumn":47},{"ruleId":"128","severity":1,"message":"129","line":99,"column":13,"nodeType":"130","messageId":"131","endLine":99,"endColumn":50},{"ruleId":"132","severity":1,"message":"129","line":99,"column":13,"nodeType":"130","messageId":"131","endLine":99,"endColumn":50},{"ruleId":"128","severity":1,"message":"129","line":103,"column":13,"nodeType":"130","messageId":"131","endLine":103,"endColumn":46},{"ruleId":"132","severity":1,"message":"129","line":103,"column":13,"nodeType":"130","messageId":"131","endLine":103,"endColumn":46},{"ruleId":"103","severity":1,"message":"133","line":41,"column":9,"nodeType":"105","endLine":41,"endColumn":51},{"ruleId":"103","severity":1,"message":"134","line":41,"column":9,"nodeType":"105","endLine":41,"endColumn":51},{"ruleId":"135","severity":1,"message":"136","line":214,"column":3,"nodeType":"137","messageId":"138","endLine":214,"endColumn":14},{"ruleId":"135","severity":1,"message":"136","line":215,"column":3,"nodeType":"137","messageId":"138","endLine":215,"endColumn":14},{"ruleId":"103","severity":1,"message":"139","line":49,"column":9,"nodeType":"105","endLine":49,"endColumn":41},{"ruleId":"135","severity":1,"message":"136","line":122,"column":5,"nodeType":"137","messageId":"138","endLine":122,"endColumn":16},{"ruleId":"135","severity":1,"message":"136","line":123,"column":5,"nodeType":"137","messageId":"138","endLine":123,"endColumn":16},{"ruleId":"135","severity":1,"message":"136","line":124,"column":5,"nodeType":"137","messageId":"138","endLine":124,"endColumn":16},{"ruleId":"140","severity":1,"message":"141","line":132,"column":18,"nodeType":"142","endLine":132,"endColumn":44},{"ruleId":"143","severity":1,"message":"144","line":133,"column":18,"nodeType":"145","messageId":"146","endLine":133,"endColumn":79},{"ruleId":"143","severity":1,"message":"144","line":150,"column":22,"nodeType":"145","messageId":"146","endLine":150,"endColumn":112},"react-hooks/exhaustive-deps","The 'selection' logical expression could make the dependencies of useMemo Hook (at line 126) change on every render. To fix this, wrap the initialization of 'selection' in its own useMemo() Hook.","VariableDeclarator","React Hook useMemo has an unnecessary dependency: 'window.devicePixelRatio'. Either exclude it or remove the dependency array. Outer scope values like 'window.devicePixelRatio' aren't valid dependencies because mutating them doesn't re-render the component.","ArrayExpression",["147"],"React Hook useMemo has a missing dependency: 'resolutionScales'. Either include it or remove the dependency array.",["148"],"jsx-a11y/label-has-for",[],"lines-around-directive",["149"],"no-spaced-func",["150"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"import/extensions","Unexpected use of file extension \"js\" for \"three/examples/jsm/postprocessing/BloomPass.js\"","Literal","@typescript-eslint/no-unused-expressions","Expected an assignment or function call and instead saw an expression.","ExpressionStatement","unusedExpression","babel/no-unused-expressions","The 'keyPressed' object makes the dependencies of useCallback Hook (at line 50) change on every render. To fix this, wrap the initialization of 'keyPressed' in its own useMemo() Hook.","The 'keyPressed' object makes the dependencies of useCallback Hook (at line 54) change on every render. To fix this, wrap the initialization of 'keyPressed' in its own useMemo() Hook.","no-console","Unexpected console statement.","MemberExpression","unexpected","The 'colorArrays' array makes the dependencies of useEffect Hook (at line 125) change on every render. To fix this, wrap the initialization of 'colorArrays' in its own useMemo() Hook.","react/no-array-index-key","Do not use Array index in keys","TemplateLiteral","no-return-assign","Arrow function should not return assignment.","ArrowFunctionExpression","arrowAssignment",{"desc":"151","fix":"152"},{"desc":"153","fix":"154"},"padding-line-between-statements","func-call-spacing","Update the dependencies array to be: []",{"range":"155","text":"156"},"Update the dependencies array to be: [resolutionScales, width, height]",{"range":"157","text":"158"},[9437,9462],"[]",[9854,9869],"[resolutionScales, width, height]"]